# 最後はいつ？ - 要件定義書

## 1. プロジェクト概要

### 1.1 サービス名
最後はいつ？ (When Is The Last Time)

### 1.2 サービス概要
日常生活における様々なイベント（活動）を記録し、最後に実行してからの経過時間を追跡・管理するWebアプリケーション

### 1.3 対象ユーザー
- 定期的なメンテナンスや習慣を管理したい人
- 日常の活動を記録・追跡したい人
- やり忘れを防ぎたい人

## 2. 画面設計

### 2.1 メイン画面（イベント一覧）

#### 機能
- イベント一覧の表示
- 検索機能
- イベントの追加ボタン
- サイドメニューの開閉

#### 表示項目
- **イベントカード**
  - アイコン（カテゴリー別）
  - イベント名
  - 経過時間（年・月・日のカウンター表示）
  - サブ情報（最後に実行した回のメモ、日付など）
  - 左にスワイプで削除ボタンを表示（注※開発第一段階では含めない。webでできるか要調査）

#### インタラクション
- 各イベントカードをタップして詳細表示
- 検索バーでイベントをフィルタリング
- 経過時間はリアルタイムで表示

### 2.2 サイドメニュー（フィルター画面）

#### 機能
- イベントのフィルタリング
- 設定画面への遷移
- その他機能へのアクセス

#### フィルター項目
- **時間によるフィルター**
  - 全て（件数表示）
  - 数週間前（件数表示）1週間以上前のものだけ含む
  - ヶ月前（件数表示）1ヶ月以上前のものだけ含む
  - 数年前（件数表示）1年以上前のものだけ含む

- **カテゴリーによるフィルター**
  - アイコンで分類
  - 複数カテゴリー選択可能

#### その他メニュー
- 設定
- 問題/ご意見

### 2.3 設定画面

#### エクスポート
- CSVとしてエクスポート

#### ソート
- **アルファベット順**（デフォルト選択）
- **日時降順**（最新のイベントが上）
- **日時昇順**（古いイベントが上）
- **カスタム**（手動でソート順を設定） 注※開発第一段階ではカスタム順は含めない

#### 時間設定
- **24時間ごと** 注※開発第一段階では24時間ごとは含めない
- **真夜中を起点とする**（デフォルト選択）
  - 日付の切り替わりを午前0時に設定

#### フリッパーオプション
- **タイムフリッパー**（トグル）
  - 24時間以内に作成されたイベントを時間、分、秒で時間を表示

#### その他の設定
- **リマインダー**
  - 通知設定
- **チュートリアル**（トグル） 注※開発第一段階ではチュートリアルは含めない
  - 初回起動時のチュートリアル表示

### 2.4 イベント作成/編集画面

#### 入力項目
- **イベント名**（テキスト入力）
  - 必須項目
  - プレースホルダー: "重要なイベントをここに入力する"

- **カテゴリーアイコン選択**
  - 複数のアイコンから選択
  - アイコン例:
    - ピン
    - 読書/本
    - フォルダ
    - スター
    - グラフ
    - 太陽/天気
    - 人物
    - 病院/医療
    - プラス/医療
    - 葉っぱ
    - 虫眼鏡
    - 複数人
    - 雪の結晶
    - 炎
    - 雷

- **日時選択**
  - カレンダーピッカー
  - 時刻ピッカー
  - デフォルト: 現在日時（2026年1月15日）

#### 操作ボタン
- キャンセル
- 完了

### 2.5 イベント履歴画面

#### 表示項目
- **イベント名**
  - 関連するアイコン表示
  - 統計情報の表示
    - 今週○回｜今月○回｜合計○回

- **履歴統計**
  - ○○日前回
  - ○○日平均
  - ○合計

- **次回予定** 注※開発第一段階では次回予告は含めない
  - 次回：○○日前

#### 履歴リスト
- **時系列で表示**
  - 年月でグループ化
  - 各履歴エントリ:
    - 日付（円形バッジで日数表示）
    - 詳細情報（メモなど）
    - タイムスタンプ
    - 経過日数

#### 操作
- 各履歴エントリをタップして詳細表示/編集
- 削除ボタン（右上）
- 新規追加ボタン（下部）

### 2.6 メモ入力画面

#### 機能
- イベントに関連するメモの追加/編集

#### 入力項目
- **メモ欄**（テキストエリア）
  - 自由入力
  - 複数行対応

- **日時表示**
  - 現在の日時を表示（2026/01/15 23:31）

#### 操作ボタン
- キャンセル
- 完了

## 3. 機能要件

### 3.1 イベント管理
- イベントの作成
- イベントの編集
- イベントの削除
- イベントの検索
- イベントのソート（複数条件）
- イベントのフィルタリング（時間・カテゴリー）

### 3.2 経過時間計算
- 年・月・日単位での経過時間表示
- リアルタイム更新
- 24時間以内は時・分・秒で表示（オプション）

### 3.4 履歴管理
- イベントの実行履歴を記録
- 履歴の統計表示（回数、平均、次回予定）
- 履歴の時系列表示

### 3.5 メモ機能
- 各イベントにメモを追加
- 各履歴エントリにメモを追加

### 3.6 データ管理
- CSVエクスポート

### 3.8 通知機能
- リマインダー設定
- 定期的な通知

### 3.9 その他
- チュートリアル表示

## 4. 非機能要件

### 4.1 パフォーマンス
- レスポンシブデザイン（モバイル対応）
- 高速な経過時間計算・表示
- スムーズなアニメーション

### 4.2 ユーザビリティ
- 直感的なUI/UX
- ダークモード対応
- 日本語対応

### 4.3 データ保持
- ローカルストレージでのデータ保存
- データの永続化

### 4.4 ブラウザ対応
- Chrome（最新版）
- Safari（最新版）
- Firefox（最新版）
- Edge（最新版）

## 5. 技術スタック（候補）

### 5.1 フロントエンド
- Vue3 / Nuxt3
- TypeScript
- Nuxt UI v4

### 5.2 状態管理
- Pinia

### 5.3 データベース
- RDS(MySQL)

### 5.4 UI/UXライブラリ
- Framer Motion（アニメーション）
- date-fns / dayjs（日時計算）

## 6. 開発フェーズ

### Phase 1: MVP
- メイン画面（イベント一覧）
- イベント作成/編集
- 経過時間計算・表示
- データ永続化

### Phase 2: 基本機能
- フィルター機能
- ソート機能
- 検索機能

### Phase 3: 拡張機能
- 履歴管理
- メモ機能
- 設定画面
- CSVエクスポート

### Phase 4: 追加機能
- 通知機能
- ダークモード
